ТЕСТОВОЕ ЗАДАНИЕ НА ПОЗИЦИЮ PYTHON РАЗРАБОТЧИКА


I. Описание части системы:
Существует две системы CRM и ERP, которые имеют собственные API (REST).
В CRM системе есть сущность Application (Заявка) со следующими полями:

======================================================================
Название        Тип                 Описание
----------------------------------------------------------------------
id              int4                Первичный ключ
name            varchar(50)         Название заявки
agreement_id    int4                Идентификатор договора
created         timestamptz         Дата создания заявки
updated         timestamptz         Дата обновления заявки

Операторы КЦ работают с сущностью Application через административный интерфейс Django.
На странице просмотра объекта Application (Заявка) есть две вкладки:
- Основная информация
- Платежи

Операторам необходимо посмотреть информацию о платежах, связанных с этой заявкой. Для этого они переходят
на вкладку «Платежи». При переходе на вкладку «Платежи» выполняется HTTP запрос к ERP API для получения списка платежей,
связанных по agreement_id с текущей заявкой.

Пример запроса ERP API для получения платежей по id договора (agreement_id):

1. метод GET
2. url: https://host/api/v2/agreements/{:agreement_id}/payments
3. headers:
    - Content-Type: application/json
    - Access-Token: dsdsdsfgfewklweklweklwe

В качестве авторизации ERP API проверяет на корректность заголовок "Access-Token".
Если в запросе отсутствует заголовок "Access-Token", то ERP API отдает HTTP статус 401.
Если значение заголовка "Access-Token" некорректно, то ERP API отдает HTTP статус 403.

Пример тела успешного ответа с платежами:
[  
   {  
      "id":23,
      "amount":260.0,
      "date":"2017-02-21"
   },
   {  
      "id":53,
      "amount":1230.0,
      "date":"2017-02-25"
   }
]

II. Задания:
1. Эмулировать работу ERP API, то есть написать API, который будет возвращать список платежей по id договора (agreement_id).
Список платежей хранится в JSON-файле.
2. При переходе на вкладку «Платежи» выполнить запрос к ERP API и получить список платежей.
После этого отобразить платежи на этой вкладке.
